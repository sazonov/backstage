# Change Log
## 4.7.43 - 2024-12-10
### App
- Скорректировано имя файла конфигурации logback.

## 4.7.42 - 2024-12-05
### App
#### Добавили параметры для управления ротацией лог-файлов:
- **app.logging.file.max-history** - количество дней хранения архивов лог-файлов (значение по умолчанию - 100);
- **app.logging.file.max-size** - размер файла лога, по достижению которого запускается ротация (значение по умолчанию - 30MB);
- **app.logging.file.total-size-cap** - ограничение общего размера архивных файлов (значение по умолчанию - 0).

## 4.7.39 - 2024-07-16
### Attachments
- Исправили инициализацию bindings в Attachment.

## 4.7.38 - 2024-07-11
### Database
- Добавили поддержку авторизации для clickhouse по логину и паролю.

## 4.7.37 - 2024-06-10
### BPM
- Исправили ошибку при срабатывании таймера для случая, когда одновременно используется jBPM и Camunda.

## 4.7.36 - 2024-06-03
### Database
- Добавили аннотацию @SuperBuilder для UuidGeneratedEntity.
- Удалили TransactionalUtils, они дублировали функционал из модуля app.

### Attachments
- Если во время создания вложения происходит исключение, то данные вложения удаляются вместе с объектом Attachment.

## 4.7.35 - 2024-06-03
### Audit
- Добавлена логика определения схемы на основании конфигурации для таблицы audit при работе через jdbcTemplate.

## 4.7.34 - 2024-05-28
### Dependency Upgrades
- Flyway 10.12.0
- MinIO 8.5.10
- ClickHouse JDBC 0.6.0-patch5
- Guava 33.2.0-jre
- Commons-codec 1.17.0

## 4.7.33 - 2024-05-27
### BPM
- Добавлена проверка на существование сигнала в Camunda процессе.

## 4.7.32 - 2024-05-22
### Dicts
- Удалена первая версия DictDataService.
- Исправили ошибку, приводившую к неправильной десериализации DictItemDto в запросах через Feign.

## 4.7.28 - 2024-05-15
### BPM
- Добавили синхронизацию состояния сущности Process и Таблицы process в AbstractProcessEngine.updateProcessState.

## 4.7.27 - 2024-05-08
### All
- Обновили gradle плагин jpa-persistence-xml.

## 4.7.26 - 2024-05-08
### Database
- Убрали LocalDateAttributeConverter, LocalDateTimeAttributeConverter.

## 4.7.25 - 2024-05-07
### BPM
- Исправили ошибку, из-за которой при использовании terminating end event вызывался обработчик onTaskComplete у уже закрытых задач для Camunda.

## 4.7.24 - 2024-04-25
### App
- Исправили конфигурацию logback, в логах больше нет сообщений уровня WARN при старте приложения.

## 4.7.23 - 2024-04-16
### App
- Добавили возможность десериализации generic типов в `JsonUtils`.

### BPM
- Исправили загрузку схем процессов из БД для Camunda.

## 4.7.22 - 2024-04-18
### Dependency Upgrades
- Удалён Apache BeanUtils
- Flyway 10.11.0
- Postgresql JDBC 42.7.3
- ClickHouse JDBC 0.6.0-patch3
- Guava 33.1.0-jre
- Commons-io 2.16.1
- Commons-codec 1.16.1

### App
- Удалены health метрики для systemd.
- Удалена зависимость от `spring-boot-starter-web`.
- Конфигурация `LocaleConfiguration` перенесена в API.
- Добавлен конфиг logback по умолчанию с поддержкой ротации файлов и вывода json в stdout. Его использование управляется параметром `app.logging.logback.customConfig`.

### Cache
- В ReadOnlyProxy геттер теперь получаем через java.beans.Introspector, а не через Apache PropertyUtils.

## 4.7.19 - 2024-04-16
### BPM
- Исправили ошибку выполнения таймеров для движка jBPM при одновременной работе с Camunda.

## 4.7.18 - 2024-04-16
### JMS
- Добавили возможность использования внешнего брокера ActiveMQ.

## 4.7.17 - 2024-04-15
### Jobs
- Исправили ошибку, из-за которой задача без параметров не запускалась при передаче произвольных параметров в API.
- Исправили ошибку, из-за которой не обновлялись health метрики при запуске задач через API.

## 4.7.16 - 2024-04-10
### Dicts
- Исправили проблему сериализации JSON в ответах методов DictDataEndpoint.
- Убрали расхождения в методах DictDataEndpoint при работе напрямую и через remote интерфейс.

## 4.7.15 - 2024-04-08
### BPM
- Восстановили работу запуска подпроцессов по сигналу для Camunda.

## 4.7.14 - 2024-03-29
### Dicts
- Перешли на @RequestBody фильтра в запросе на получение количества записей справочника.
- Исправили ошибку запуска приложения при отсутствии миграций.

## 4.7.13 - 2024-03-27
### APP
- Исправили ошибку, при которой для пустых pageable, slice в AbstractConverter затиралась мета-информация о странице.

## 4.7.12 - 2024-03-19
### BPM
- Исправили ошибку, приводившую к невозможности вызвать скрипт в момент старта процесса на движке jBPM.

## 4.7.11 - 2024-03-18
### All
- Восстановили работу weaving в EclipseLink.

## 4.7.9 - 2024-03-15
### Database
- Добавили поддержку @SecondaryTable при динамической конфигурации схемы БД для Entity.
- Исправили ошибку при попытке определения динамической конфигурации схемы БД для случаев, когда в RelationDescriptor отсутствуют связанные таблицы.

## 4.7.8 - 2024-03-14
### Dependency Upgrades
- Groovy 3.0.21
- Guava 33.0.0-jre
- Apache POI 5.2.5

### BPM
- Исправили вызов скриптов процесса.
- Добавили проверку на заполнение скриптового языка в scriptTask для bpmn схем. В случае когда язык не был указан, выполнение скрипта не происходило.

## 4.7.6 - 2024-03-12
### All
- Перенос изменений 4.6.59 - 4.6.63.

## 4.7.5 - 2024-03-06
### All
- Перенос изменений 4.6.51 - 4.6.58.

## 4.7.4 - 2024-01-12
### All
- Перенос изменений 4.6.49 - 4.6.50.

## 4.7.3 - 2024-01-12
### All
- Перенос изменений 4.6.59 - 4.6.62.

## 4.7.2 - 2024-01-12
### All
- Перенос изменений 4.6.32 - 4.6.38.

## 4.7.1 - 2023-11-29
### Dependency Upgrades
- Spring Boot 2.7.18

## 4.7.0 - 2023-11-21
### BPM
- Добавили поддержку Camunda в модуле bpm-camunda.
- Вынесли поддержку jBPM в модуль bpm-jbpm.

## 4.6.63 - 2024-03-12
### Api
- Актуализировали конфигурацию swagger.

## 4.6.62 - 2024-03-12
### All
- Добавили gradle плагин jpa-persistence-xml, который автоматически создаёт persistence.xml.

## 4.6.61 - 2024-03-07
### App
- Добавили RestUtils.

## 4.6.60 - 2024-03-06
### Database
- Добавлен резолв SpEL и placeholder для @JoinTable, @ElementCollection.

## 4.6.59 - 2024-03-06
### Database
- Добавлена поддержка произвольной схемы БД для UUID конвертера.
- Исправлен DDL конфиг ClickHouse.

## 4.6.58 - 2024-03-05
### Dependency Upgrades
- EclipseLink 2.7.14

### All
- Добавлена возможность конфигурации схемы для Entity-классов через placeholder в `schema`-атрибуте аннотации `@Table`.
- Определены placeholder'ы для схем Entity-классов в `audit`, `attachment` и `doc-templates` модулях.

## 4.6.56 - 2024-03-04
### Database
Добавлен ddl data source для ClickHouse без таймаута.

## 4.6.55 - 2024-03-01
### Database
Добавлен ddl data source для ClickHouse без таймаута.

## 4.6.54 - 2024-02-28
### Database
Исправление получения метаинформации для UuidSupportExtension.

## 4.6.53 - 2024-02-28
### Database
Правка конфига ClickHouse.

## 4.6.52 - 2024-02-28
### Database
- Перенос конфигураций и пропертей ClickHouse в либу.
- Обновление версии flyway.
- Поддержка миграций flyway для ClickHouse.

## 4.6.51 - 2024-02-27
### Jobs
- Перенос джобы по автоматическому созданию партиций в модуль jobs.

## 4.6.50 - 2024-02-26
### Database
- Добавлена поддержка конвертации типов String <-> UUID/varchar в зависимости от типа столбца в БД для Eclipselink.

## 4.6.49 - 2024-02-26
### Dicts
- Исправили soft delete справочников.

## 4.6.48 - 2024-02-19
### BPM
- Повысили версию зависимости org.mvel:mvel2 для совместимости с JDK 21+.

## 4.6.46 - 2024-02-13
### All
- Расширили конфигурацию `DDLProvider` возможностью указания целевой схемы через конфигурацию.

## 4.6.45 - 2024-02-12
### Dicts
- Исправили сопоставление языков при сортировке в запросах MongoDictDataBackend.

## 4.6.44 - 2024-02-06
### Dicts
- Расширили проверку/маппинг для типа GEO_JSON.

## 4.6.43 - 2024-02-01
### Attachments
- Объединили проперти `app.attachments.ddl.enabled` и `app.attachments.ddl-enabled`.
### Audit
- Объединили проперти `app.audit.ddl.enabled` и `app.audit.ddl-enabled`.

## 4.6.42 - 2024-01-25
### Dicts
- Исправили множественную сортировку для справочников.

## 4.6.41 - 2024-01-22
### App
- Перешли на использование compileOnly для spring-boot-starter-data-redis.

## 4.6.40 - 2024-01-19
### Report
- Изменили контракты ReportService.

## 4.6.39 - 2024-01-16
### JMS
- Изменен путь по умолчанию для data папки.

## 4.6.38 - 2024-01-11
### Cache
- Добавлено управление операцией PUT в DistributedCacheService через distributed op's в проперти файлах.

## 4.6.36 - 2023-12-21
### App
- Исправление ошибки отображение версии приложения из-за переноса пропертей.
- Расширение TransactionalExecutor.

## 4.6.35 - 2023-12-18
### BPM
- Перенос исправления ошибки ConcurrentModificationException возникающая при загрузке workflow с EventTrigger из версии 4.5.40.

## 4.6.34 - 2023-12-14
### Dicts
- Исправили формирование логического выражения с использованием and и or.

## 4.6.33 - 2023-12-14
### Dicts
- Исправили получение ref полей при обращении к справочнику с использованием * в selectFields.

## 4.6.32 - 2023-12-12
### Dicts
- Исправили работу со справочниками в случае когда мета-информация и айтемы находятся в разных storage.

## 4.6.31 - 2023-11-29
### Dependency Upgrades
- Spring Boot 2.7.18.

## 4.6.30 - 2023-11-29
### Dicts
- Исправили получение записей справочника с отсутствующим ref полем.

## 4.6.29 - 2023-11-28
### Cache
- Убрана зависимость EhCacheConfigParser от jakarta.

## 4.6.28 - 2023-11-28
### Dicts
- Исправили создание новых AttachmentBinding при обновлении DictItem.

## 4.6.27 - 2023-11-24
### Cache
- EhCache смигрирован на 3 версию.
- Убрана жесткая зависимость от database.

## 4.6.26 - 2023-11-21
### Dependency Upgrades
- Flyway 9.22.3
- MinIO 8.5.7
- Flyway 9.22.3
- Guava 32.1.3-jre
- Hazelcast 5.3.6
- Apache POI 5.2.4
- Geolatte 1.9.1
- Kotlin 1.8.10

## 4.6.25 - 2023-11-17
### Cache
- Убрали обязательную зависимость от ehcache и hazelcast.

## 4.6.24 - 2023-11-10
### Dicts
- Исправили обновление записей справочника с engine Postgres, у которых идентификатор поля начинается с цифры.

## 4.6.23 - 2023-10-30
### All
- Стандартизация констант и утилит для дат.

## 4.6.22 - 2023-10-31
### Dicts
- Добавили наполнение справочника отсутствующими сервисными полями при миграции storage.

## 4.6.21 - 2023-10-31
### Dicts
- Дополнили кавычками обращение к полям в select/join clause для полей, начинающихся с цифры.

## 4.6.20 - 2023-10-30
### Dicts
- Исправлено получение DictItem из Postgres storage, у которых длина alias больше 63 символов.
- Реализовали формирование alias для Postgres storage вида t1_fieldId, t2_fieldId.
- Добавили ограничение на максимальную длину идентификатора поля в 32 символа.

## 4.6.19 - 2023-10-26
### Database
- Реализован механизм read only для атрибутов энтити (аннотация @ReadOnlyColumn).

## 4.6.18 - 2023-10-25
### App
- Добавили DateUtils.
### Api
- Добавили RemoteServiceUtils.

## 4.6.17 - 2023-10-25
### Dicts
- Исправлено получение DictItem из Postgres storage, у которых имена колонок начинались с цифры.

## 4.6.16 - 2023-10-24
### Dependency Upgrades
- Spring Boot 2.7.17

## 4.6.15 - 2023-10-24
### Dicts
- Исправлен приоритет вызова DictLockInitializer.

## 4.6.14 - 2023-10-23
### Dicts
- Вынесли новый интерфейс провайдеров для первоначальной миграции схемы справочников DictsStorageDDLProvider.
- Добавлена инициализация идентификаторов справочников в коллекции локов DictLockService до начала обработки миграций.
- Исправлена ошибка отсутствия идентификатора справочника в коллекции локов DictLockService при обработке миграций.

## 4.6.13 - 2023-10-23
### Audit
- Добавили проперти для активации AuditDDLProvider.
### Attachments
- Добавили проперти для активации AttachmentsDDLProvider.

## 4.6.12 - 2023-10-19
### Audit
- Исправили проблему согласованности миграций с устаревшим провайдером essential. Добавили AuditDDLProvider.
### Attachments
- Исправили проблему согласованности миграций с устаревшим провайдером essential. Добавили AttachmentsDDLProvider.

## 4.6.11 - 2023-10-19
### Dicts
- Реализовали миграцию справочников между дата-сорсами через API.
- Добавили DictLockService для блокировки работы со справочником во время его изменения.
- Добавили блокирующие аннотации @LockDictSchemaModifyOperation, @LockDictOperation.
- Убрали возможность переименования схемы справочника через миграции и API.

## 4.6.10 - 2023-10-16
### Jobs
- Исправлена ошибка в параметрах запроса на изменение расписания.
- Добавлен эндпоинт, позволяющий увидеть cron-выражение или период между запусками для периодических задач.

## 4.6.9 - 2023-10-12
### JMS
- Добавление зависимостей activemq.

## 4.6.8 - 2023-10-09
### Database
- HikariCP добавлен в прямые зависимости.

## 4.6.7 - 2023-10-05
### App
- Добавлен SpringApplicationUtils для включения Startup Actuator Endpoint при запуске.

## 4.6.6 - 2023-10-03
### Dependency Upgrades
- Spring Boot 2.7.16
- Flyway 9.22.2
- Feign Jackson 12.5

## 4.6.5 - 2023-09-29
### Dicts
- Изменили валидацию при удалении справочника.

## 4.6.4 - 2023-09-28
### Dicts
- Доработали создание справочника без явного указания engine.

## 4.6.3 - 2023-09-27
### App
- Откат JmsConfiguration до версии с несколькими реализациями JmsListenerContainerFactory.

## 4.6.2 - 2023-09-27
### Dicts
- Убрана избыточная логика сохранения enum при конвертации реквеста на создание Dict.

## 4.6.1 - 2023-09-15
### All
- Декомпозиция проекта на стартеры.
- Очистили модули от лишних зависимостей.
- Перешли на использование api вместо compileOnly зависимостей, за исключением случаев, где клиенту не нужен полный перечень зависимостей модуля.

## 4.5.34 - 2023-09-14
### Dicts
- Исправлена десериализация и конвертация референсных полей (вложенных элементов) DictItemDto#dictData.

## 4.5.33 - 2023-09-08
### Report
- Добавили интерфейс ReportService и две реализации: AttachmentReportService, InMemoryReportService.
- Заменили ReportNotification на ReportTask, дополнили модель полями reportId, userId.
- Добавили реализацию по умолчанию для ReportTaskService: InMemoryReportTaskService.
- Изменили определение reportGenerator'a в локаторе с ReportFilter на ReportType.
- Расширили интерфейс ReportService для вызова генерации отчетов с передачей ReportType.

## 4.5.32 - 2023-09-07
### Dependency Upgrades
- Spring Boot 2.7.15
- EclipseLink 2.7.13
- Groovy 3.0.19
- MinIO 8.5.5
- Flyway 9.22.0
- Guava 32.1.2-jre

## 4.5.31 - 2023-08-18
### Report
- Добавлен метод для генерации отчета с userId при отсутствии security контекста.
- Добавлена передача userId в properties ReportNotification.
- Отказались от применения JMS в очереди отчетов в пользу taskExecutor.
- Добавлен лисенер на выполнение неотработанных нотификаций отчетов.

## 4.5.30 - 2023-08-11
### App
- Теперь доступна только одна по умолчанию не транзакционная версия JmsListenerContainerFactory, управления транзакциями для неё осуществляется стандартными средствами через аннотацию @Transactional. Везде, где использовалась nonTxJmsListenerContainerFactory, необходимо использовать jmsListenerContainerFactory.

## 4.5.29 - 2023-08-11
### App
- Добавлена абстракция переопределеного поведения json сериализации/десериализации из com.fasterxml.jackson.databind.

### Dicts
- Добавлена реализация абстракции json сериализации/десериализации для DictItem#dictData.

## 4.5.28 - 2023-08-08
### App
- Добавлен JmsListenerContainerFactory с транзакцией только на уровне JMS.

## 4.5.27 - 2023-08-03
### Dicts
- Обновление DictDto и конвертеров для работы с возможностью установки DictEngine.

## 4.5.26 - 2023-08-03
### Dicts
- Добавили поддержку PostgreSQL для справочников.
- Добавили миграцию сущностей Dict, VersionScheme между datasource-ами.

## 4.5.25 - 2023-07-28
### App
- Добавлен DateUtils.
- Добавлен модуль report.
- Добавлен ReportService. Сервис поддержки приемы запросов и генерации отчетов.
- Добавлен набор абстракции с общей функциональной логикой для реализации excel отчетов.
- Добавлен ReportNotificationAdvice. Предоставляет возможность описания дополнительных действий в сочетании с нотификациями.

## 4.5.24 - 2023-07-27
### App
- Фикс конфигурации JpaModelGenPlugin.

## 4.5.23 - 2023-07-27
### App
- Доработали ApiEnumService. Теперь можно указать пакеты, в которых будет происходить поиск аннотации @ApiEnum, не ограничиваясь com.proit.
- Доработали MetaModelVerifier. Теперь также можно указать пакеты для поиска моделей, не ограничиваясь com.proit.
- Однотипная доработка для DefaultEntityManagerFactoryCustomizer.

## 4.5.22 - 2023-07-26
### Dependency Upgrades
- Spring Boot 2.7.14
- Spring Cloud 3.1.7

### App
- Добавлены аннотации @ConditionalOnJpa, @ConditionalOnJms, @ConditionalOnAudit как дополнительный уровень абстракции между конфигурацией и компонентами библиотеки.

## 4.5.21 - 2023-07-10
### Starter Feign
- Понизили приоритет вызова Interceptor-а и убрали прерывание запроса при отсутствии авторизации.

### Dicts
- Добавили вторые версии эндпоинтов RemoteDictDataEndpoint и RemoteDictDataService без передачи userId параметром.

## 4.5.20 - 2023-07-06
### App
- Добавлен параметр конфигурации app.transaction.template для управления созданием TransactionTemplate.

## 4.5.19 - 2023-07-03
### App
- Изменена обязательность поля objectId в audit.

## 4.5.18 - 2023-06-27
### Dependency Upgrades
- Spring Boot 2.7.13
- MinIO 8.4.6
- Guava 32.0.1-jre
- Commons-io 2.13.0
- Commons-codec 1.16.0

## 4.5.17 - 2023-06-19
### Dicts
- Добавлен метод для получения списка id элементов справочника без пагинации.

# Change Log
## 4.5.16 - 2023-06-08
### Dicts
- Исправлена ошибка валидации Date/LocalDate/LocalDateTime при миграции DictItem с типом поля DATE/TIMESTAMP.

## 4.5.15 - 2023-06-02
### Dicts
- Исправлена ошибка удаления таблиц при откате миграции.

## 4.5.14 - 2023-05-31
### App
- Исправлено отображение _java.util.Map_ для SpringDoc.

## 4.5.13 - 2023-05-31
### App
- Исправлена ошибка с десериализацией JobParams в ScheduledJobsEndpoint.

## 4.5.12 - 2023-05-30
### Dicts
- Добавлен принудительный маппинг Date к LocalDate или LocalDateTime при получении DictItem.

## 4.5.11 - 2023-05-30
### Dependency Upgrades
- Spring Boot 2.7.12
- Spring Cloud 3.1.5
- Groovy 3.0.17
- Spring Doc 1.6.15
- Flyway 9.19.1
- Hazelcast 5.2.3
- Guava 32.0.0-jre

### App
- Добавлена возможность менять порядок менеджеров транзакций при объединении в цепочки через параметр конфигурации app.transaction.chaining.

## 4.5.9 - 2023-05-10
### Dicts
- Проведена финальная реорганизация кода: маппинг DictData перенесен в слой Backend, пакет exception структурирован, единая точка входа для DictDataBackend создана в виде DictDataBackendProvider.

## 4.5.8 - 2023-05-10
### Dicts
- В миграциях исправлена ошибка обновления при использовании JsonValue внутри массивов.

## 4.5.7 - 2023-05-10
### Dicts
- Проброшен id пользователя в валидацию DictDataItem при создании справочника с внешним ключом на другой справочник.

## 4.5.6 - 2023-04-24
### Dicts
- Добавлен вызов метода после обновления записи в DictDataServiceAdvice.

## 4.5.5 - 2023-04-23
### Dicts
- Исправлен маппинг JSON полей при обновлении и создании записей в миграциях.

## 4.5.4 - 2023-04-22
### Dicts
- Добавлен новый тип поля в справочниках для хранения геометрии: GeoJSON.

## 4.5.3 - 2023-04-21
### Dicts
- Добавлена возможность использования в миграции JSON полей при обновлении и создании записей.

## 4.5.2 - 2023-04-17
### App
- Добавлены аннотации для описания элементов Enum'ов: @ApiEnum, @ApiEnumDescription.

## 4.5.1 - 2023-04-15
### App
- Добавлена возможность запускать джобы с набором изменяемых параметров.
- Реализовано новое API для работы с джобами. Старое помечено как @Deprecated.

## 4.5.0 - 2023-04-05
### Dicts
- Провели предварительный рефакторинг компонента, структурировали ответственность слоев бэкенд адаптера, маппинга, валидации, сервиса домена.
- Подготовили компонент к добавлению нового persistent адаптера и датасорса.
- Актуализированы тесты.

## 4.4.45 - 2023-04-12
### BPM
- Изменен контракт эндпоинта _/api/bpm/process/kill_. Отказались от использования **@PathVariable**.
- Доработан метод kill JbpmProcessEngine.

## 4.4.43 - 2023-03-27
### Dependency Upgrades
- Spring Boot 2.7.10
- Gradle Plugins 1.0.62

## 4.4.41 - 2023-03-16
### Dicts
- Расширили паттерны дат для Constant в QueryParser, теперь доступна возможность приведения строки к дате и дате-времени в запросах по фильтру ("timestampField in ('2020-03-01'::date, '2020-03-01+03:00'::date)", "timestampField in ('2020-03-01'::timestamp, '2020-03-01+03:00'::timestamp)").

## 4.4.40 - 2023-03-16
### Dependency Upgrades
- EclipseLink 2.7.11
- Groovy 3.0.16
- Gradle Plugins 1.0.60

### Разное
- Добавлен модуль starter-feign-session, позволяющий переносить сессию пользователя при вызовах удалённых сервисов через Feign.

## 4.4.39 - 2023-03-15
### App
- Дали возможность переопределять ObjectWriter в AbstractJsonConverter.

## 4.4.38 - 2023-03-13
### Dependency Upgrades
- Spring Boot 2.7.9
- Spring Cloud 3.1.5
- Gradle Plugins 1.0.59

### Dicts
- Починили экспорт справочников в SQL и CSV.

## 4.4.36 - 2023-02-10
### App
- Добавлен TransactionalUtils для обработки кода после коммита транзакции.

## 4.4.35 - 2023-02-09
### BPM
- Добавлен параметр конфигурации app.bpm.defaultTerminatingEndEventScope для управления поведением по умолчанию для узлов терминирующего завершения внутри подпроцессов.

## 4.4.34 - 2023-01-25
### Dependency Upgrades
- Spring Boot 2.7.8

## 4.4.31 - 2023-01-20
### Dicts
- Исправили фильтрацию по полям decimal.

## 4.4.30 - 2023-01-19
### Dependency Upgrades
- Spring Boot 2.7.7
- Spring Doc 1.6.14
- Flyway 9.10.2
- Groovy 3.0.14

### App
- Исправили отображение наименования компонента с периодичными задачами в актуаторе.
- Исправили работу DeleteUnboundedAttachmentsJob.
- Параметр конфигурации app.attachments.store-path заменен на app.attachments.directory.path.

### BPM
- Добавлен индекс на колонку instance_id таблицы process.

## 4.4.24 - 2022-12-20
### Dependency Upgrades
- jBPM 7.73.0.Final

### App
- Исправлена обработка параметра конфигурации app.api.stackTraceOnError.
- OkResponse параметризован теперь Void, а не Object.

### BPM
- Добавлен метод processService.startProcessOnEvent для запуска процесса по событию без указания схемы.
- Исправлен gradle плагин bpmn::pack, иногда для схем без скриптов он генерировал пустой файл.
- Доработан метод удаления неактуальных таймеров в TimerManager для совместимости с новой версией jBPM.
- Расширены тесты, добавлены проверки миграции между разными ревизиями одного процесса.

## 4.4.16 - 2022-12-07
### Dependency Upgrades
- Spring Boot 2.7.6
- Spring Doc 1.6.13
- Flyway 9.8.2
- Hazelcast 5.2.1
- MinIO 8.4.6
- Flyway 9.1.6
- Geolatte 1.9.0

### App
- Расширили конфигурацию JMS, включили логирование ошибок IO.
- Расширено логирование AutoMigrateProcessesJob.
- В список допустимых по умолчанию вложений добавлен формат xlsm.

### BPM
- Оптимизировали поиск Task по TaskFilter.
- Исправлена ошибка, при которой из метода processService.getProcessTimers возвращались уже неактуальные таймеры.
- Исправлен экспорт схем процессов для случая, когда в редакторе в поле версия было установлено значение "0", принудительно меняем версию на "1.0".

## 4.4.7 - 2022-11-14
### Dependency Upgrades
- MinIO 8.4.5

### App
- Исправлено получение параметров поля справочника для типа boolean.
- Исправлены параметры запроса для функционала по изменения расписания для job наследованных от AbstractJob.
- Добавлен функционал по изменения расписания для job наследованных от AbstractJob.
- Добавлены геттеры для SimpleHealthIndicatorComponent.
- Добавлены геттеры для JobHealthIndicator.

### BPM
- Восстановлена работа метода processService.updateProcessTimer().

### Dicts
- Добавлена обработка списка Attachments в BindingDictDataServiceAdvice.

## 4.3.38 - 2022-10-25
### Dicts
- Расширили методы ValidationService и MappingService для обработки TIMESTAMP и DATE полей типами String и Date.
- Добавлена возможность использования операторов сравнения в миграциях для where и delete.
- Исправлены параметры запроса в RemoteDictDataService на удаление элемента из справочника.
- Добавлена возможность использовать оператор != с update при миграции справочников.

### Разное
- Добавлена возможность корректного проксирования объектов с глубиной наследования >2. Тесты для ProxyModel.

## 4.3.33 - 2022-10-20
### Dependency Upgrades
- Spring Boot 2.7.4
- Spring Cloud 3.1.4
- Spring Doc 1.6.11
- EclipseLink 2.7.11
- Groovy 3.0.13
- Flyway 9.3.1
- Hazelcast 5.1.3
- MinIO 8.3.9
- Groovy 3.0.12
- Flyway 9.1.6

### Разное
- Для noTimeoutDataSource добавлен отдельный менеджер транзакций noTimeoutDataSourceTransactionManager.

## 4.3.32 - 2022-10-19
- В конфигурации flyway значение параметра **transactionalLock** установлено **false** для избежания проблем с принудительным завершением соединений idle in transaction.

## 4.3.31 - 2022-10-17
### Dicts
- Добавлена возможность сортировки по внутреннему справочнику (один уровень вложенности).
- Добавлена возможность указать причину удаления справочника.
- В RemoteDictData добавлены отсутствующие методы из DictDataService.
- В модели CRUD реквестов dictItem добавлены конструкторы.
- Исправлена валидация обязательности поля при передаче null значения.
- Исправлена ошибка при формировании AttachmentBinding для необязательного поля с пустым значением.
- Исправлено наименование методов проверки существования записей справочника в RemoteDictData.

### Разное
- Добавлен метод для получения информации о вложениях по коллекции идентификаторов.
- В JdkSerializationRedisSerializerNoSerializationEx добавлена обработка ClassNotFoundException.
- В SecurityUtils добавлена возможность выполнять действия от указанного пользователя.

## 4.3.23 - 2022-09-14
- Исправлено отображение параметров запроса для типов Pageable и Sort в swagger.

## 4.3.22 - 2022-09-13
- Исправлено отображение имени филда в запросе при HttpMessageNotReadableException, когда тип поля - список.

## 4.3.12 - 2022-08-05

### Dependency Upgrades
- Spring Boot 2.7.3
- Spring Doc 1.6.11
- Groovy 3.0.12
- Flyway 9.1.6

## 4.3.0 - 2022-06-28
- Перешли на Spring Boot 2.7.x.

### Dependency Upgrades
- Spring Boot 2.7.1
- Spring Cloud 3.1.3
- jBPM 7.71.0.Final
- Flyway 8.5.13

# Пример описания изменений

[Описание формата](http://keepachangelog.com/)

## 0.0.1 - 2022-06-28

Суть релиза.

### Added
- Добавили фичу.

### Changed
- Изменили поведение.

### Fixed
- Исправили ошибку.

### Documentation
- Расширили документацию.

### Dependency Upgrades
- Зависимость с версией.
